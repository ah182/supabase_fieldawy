# ๐ฏ ุญููู FCM Token - ูู ุชุญุชุงุฌ ุฅุฏุฎุงูู ูุฏููุงู ุจุนุฏ ุงูุขู!

## โ ุงูุญู 1: ุญูุธ Token ูู ููู ูุญูู (ููููุฐ) โก

### ููู ูุนููุ
- Token ูุญููุธ ูู `fcm_token.json`
- ุงูุณูุฑูุจุช ููุฑุฃ ููู ุชููุงุฆูุงู
- **ุชุญุชุงุฌ ุฅุฏุฎุงูู ูุฑุฉ ูุงุญุฏุฉ ููุท**

### ุงูุงุณุชุฎุฏุงู:

#### 1๏ธโฃ ุฃูู ูุฑุฉ ููุท - ุงุญูุธ Token:
```bash
# 1. ุดุบูู ุงูุชุทุจูู
# 2. ุงูุณุฎ Token ูู console
# 3. ุงูุชุญ fcm_token.json
# 4. ุถุน Token ููุงู ุงูููุฌูุฏ
```

#### 2๏ธโฃ ุฃุฑุณู ุฅุดุนุงุฑ (ุจุฏูู ุฅุฏุฎุงู Token ูุฌุฏุฏุงู):
```bash
npm run send:order   # โ ูุณุชุฎุฏู Token ูู ุงูููู
npm run send:offer   # โ ูุณุชุฎุฏู Token ูู ุงูููู
npm run send:general # โ ูุณุชุฎุฏู Token ูู ุงูููู
```

### โ ุงููููุฒุงุช:
- ๐ ุณุฑูุน
- ๐ ูุฑุฉ ูุงุญุฏุฉ ููุท
- ๐ ูุญูู ูู `.gitignore`

### โ๏ธ ุงูุนููุจ:
- ูุนูู ูุฌูุงุฒ ูุงุญุฏ ููุท
- ุฅุฐุง ุบููุฑุช ุงูุฌูุงุฒุ ุชุญุชุงุฌ ุชุญุฏูุซ Token

---

## โ ุงูุญู 2: ุงุณุชุฎุฏุงู Firebase Topics (ููููุฐ) ๐ฏ

### ููู ูุนููุ
- **ูุง ุชุญุชุงุฌ Token ุฅุทูุงูุงู!**
- ูู ุงููุณุชุฎุฏููู ูุดุชุฑููู ุชููุงุฆูุงู ูู `all_users` topic
- ุชุฑุณู ููู topic ุจุฏูุงู ูู token ูุญุฏุฏ

### ุงูุงุณุชุฎุฏุงู:

```bash
# ุฅุฑุณุงู ูุฌููุน ุงููุณุชุฎุฏููู (ุจุฏูู token)
npm run topic:order   # ๐ข ููู ูู ุนูุฏู ุงูุชุทุจูู
npm run topic:offer   # ๐ข ููู ูู ุนูุฏู ุงูุชุทุจูู
npm run topic:general # ๐ข ููู ูู ุนูุฏู ุงูุชุทุจูู
```

### โ ุงููููุฒุงุช:
- ๐ **ูุง ุชุญุชุงุฌ Token ุฃุจุฏุงู!**
- ๐ข ูุฑุณู ูุฌููุน ุงูุฃุฌูุฒุฉ ุชููุงุฆูุงู
- ๐ฏ ุงุญุชุฑุงูู ููุงุจู ููุชูุณุน
- ๐ฅ ูููู ุฅูุดุงุก topics ุญุณุจ ููุน ุงููุณุชุฎุฏู

### Topics ุงููุชุงุญุฉ:
```javascript
all_users  // ุฌููุน ุงููุณุชุฎุฏููู
orders     // ููุทูุจุงุช ููุท
offers     // ููุนุฑูุถ ููุท
admins     // ูููุฏุฑุงุก ููุท
```

### ๐ ุฅุถุงูุฉ topics ุฌุฏูุฏุฉ:

ูู `lib/main.dart`:
```dart
// ุงุดุชุฑุงู ุญุณุจ ููุน ุงููุณุชุฎุฏู
await FirebaseMessaging.instance.subscribeToTopic('all_users');

if (userIsAdmin) {
  await FirebaseMessaging.instance.subscribeToTopic('admins');
}
```

---

## ๐ ุงูููุงุฑูุฉ

| ุงูููุฒุฉ | ุงูุญู 1 (ููู ูุญูู) | ุงูุญู 2 (Topics) |
|--------|-------------------|-----------------|
| ุณูููุฉ ุงูุฅุนุฏุงุฏ | โญโญโญโญ | โญโญโญโญโญ |
| ูุญุชุงุฌ Token | ูุฑุฉ ูุงุญุฏุฉ | ุฃุจุฏุงู โ |
| ููุฅูุชุงุฌ | โ | โ |
| ุนุฏุฏ ุงูุฃุฌูุฒุฉ | ุฌูุงุฒ ูุงุญุฏ | ุบูุฑ ูุญุฏูุฏ |
| ุงุญุชุฑุงููุฉ | ูุชูุณุทุฉ | ุนุงููุฉ |

---

## ๐ ุงูุชูุตูุฉ: ุงุณุชุฎุฏู Topics!

### ููุงุฐุงุ
1. โ **ูุง ุชุญุชุงุฌ Token ุฃุจุฏุงู**
2. โ ูุนูู ูุน ุฌููุน ุงูุฃุฌูุฒุฉ
3. โ ุฌุงูุฒ ููุฅูุชุงุฌ
4. โ ูููู ุชุฎุตูุต Topics ุญุณุจ ููุน ุงููุณุชุฎุฏู

### ุงูุจุฏุก:

```bash
# ููุท ุงุณุชุฎุฏู topic ุจุฏูุงู ูู send
npm run topic:order   # ุจุฏูุงู ูู send:order
npm run topic:offer   # ุจุฏูุงู ูู send:offer
```

**ูู ุชุญุชุงุฌ ุฃู token - ููุท ุฃุฑุณู!** ๐

---

## ๐ ุงููููุงุช ุงููููุดุฃุฉ:

- โ `fcm_token.json` - ุญูุธ Token ูุญููุงู (ุงูุญู 1)
- โ `send_notification.js` - ููุฑุฃ ูู ุงูููู (ุงูุญู 1)
- โ `send_notification_topics.js` - ูุฑุณู ูู Topics (ุงูุญู 2)
- โ `lib/main.dart` - ุงุดุชุฑุงู ุชููุงุฆู ูู `all_users` topic

---

## ๐ง ููู ุฃุบููุฑ topicุ

ูู `send_notification_topics.js`:

```javascript
const notificationTemplates = {
  order: {
    topic: "all_users",  // ุบููุฑ ููุง
    data: { ... }
  }
}
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุงูุญู 1 (ููู ูุญูู):
```bash
npm run send:order
```

### ุงุฎุชุจุงุฑ ุงูุญู 2 (Topics):
```bash
npm run topic:order
```

ููุงููุง ูุนูู! ููู **Topics ุฃูุถู** ููุงุณุชุฎุฏุงู ุงูุทููู ๐ฏ
