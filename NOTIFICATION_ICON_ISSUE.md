# ๐ ูุดููุฉ: ุดุนุงุฑ ุงูุชุทุจูู ูุง ูุธูุฑ ูู ุงูุฎูููุฉ

## ๐ ููู ุงููุดููุฉ

### ุงูุณููุงุฑูู ุงูุญุงูู:

| ุญุงูุฉ ุงูุชุทุจูู | ูู ูุนุฑุถ ุงูุฅุดุนุงุฑุ | ุดุนุงุฑ ุงูุชุทุจูู |
|--------------|------------------|---------------|
| ๐ข ููุชูุญ (Foreground) | ููุฏูุง (flutter_local_notifications) | โ ูุธูุฑ |
| ๐ก ุฎูููุฉ (Background) | Firebase ูุจุงุดุฑุฉ | โ ูุง ูุธูุฑ |
| ๐ด ูุบูู (Terminated) | Firebase ูุจุงุดุฑุฉ | โ ูุง ูุธูุฑ |

### ููุงุฐุงุ

ุนูุฏูุง ูููู ุงูุชุทุจูู ูู ุงูุฎูููุฉ ุฃู ูุบูู:
- Firebase ูุนุฑุถ ุงูุฅุดุนุงุฑ **ูุจุงุดุฑุฉ** ูู ุงููุธุงู
- **ูุง** ููุฑ ุนุจุฑ ููุฏูุง (`onMessage`)
- ูุณุชุฎุฏู ููุท `ic_notification` (ุงูุฃููููุฉ ุงูุจูุถุงุก) ูู `AndroidManifest.xml`

---

## โ ุงูุญููู ุงููุชุงุญุฉ

### ๐ฏ ุงูุญู 1: ุฅุฑุณุงู Data-Only Messages (ููุตู ุจู)

ุจุฏูุงู ูู ุฅุฑุณุงู `notification` + `data`ุ ูุฑุณู `data` ููุท. ุนูุฏูุง:
- ูุชู ุงุณุชุฏุนุงุก `onBackgroundMessage` **ุฏุงุฆูุงู**
- ูุชุญูู ูู ุนุฑุถ ุงูุฅุดุนุงุฑ ุจููุณูุง
- ุดุนุงุฑ ุงูุชุทุจูู ุณูุธูุฑ ูู ุฌููุน ุงูุญุงูุงุช โ

#### ุชุนุฏูู send_notification.js:

ูุญุชุงุฌ ุชุนุฏูู ุจุณูุท ูู ุทุฑููุฉ ุงูุฅุฑุณุงู - ุณุฃููู ุจุฐูู ุงูุขู.

---

### ๐ฏ ุงูุญู 2: ุฅุฑุณุงู ุตูุฑุฉ ูู notification.image (ุบูุฑ ุนููู)

ูููู ุฅุฑุณุงู URL ูุตูุฑุฉ ุดุนุงุฑ ุงูุชุทุจููุ ููู:
- โ ุงูุตูุฑุฉ ูุฌุจ ุฃู ุชููู ุนูู ุณูุฑูุฑ (URL)
- โ ููุณุช Large Iconุ ุจู Big Picture
- โ ุบูุฑ ููุงุณุจ ูุดุนุงุฑ ุตุบูุฑ

---

## ๐ ุงูุชุทุจูู: ุงูุญู 1 (Data-Only Messages)

### โ ุชู ุงูุชูููุฐ ุจูุฌุงุญ!

#### 1. ุชู ุชุนุฏูู `send_notification.js`:
- โ ุฅุฑุณุงู data-only messages (ุจุฏูู notification payload)
- โ ุฌููุน ุงูุจูุงูุงุช ูู data field
- โ Priority ุนุงููุฉ ูุถูุงู ุงูุชุณููู ุงูููุฑู

#### 2. ุชู ุชุนุฏูู `lib/main.dart`:
- โ `onBackgroundMessage`: ูุนุฑุถ notification ูุญูู ูุน ุดุนุงุฑ ุงูุชุทุจูู
- โ `onMessage`: ูุนุฑุถ notification ูุญูู ูุน ุดุนุงุฑ ุงูุชุทุจูู
- โ ููุงููุง ูุณุชุฎุฏู ููุณ ุงูููุฏ ูุถูุงู ุงูุชูุงุณู

---

## ๐ฏ ุงููุชูุฌุฉ

ุงูุขู **ูู ุฌููุน ุงูุญุงูุงุช** ุณูุธูุฑ ุดุนุงุฑ ุงูุชุทุจูู:

| ุญุงูุฉ ุงูุชุทุจูู | ุดุนุงุฑ ุงูุชุทุจูู | ุงูููู ุญุณุจ ุงูููุน |
|--------------|---------------|------------------|
| ๐ข ููุชูุญ | โ ูุธูุฑ | โ ูุธูุฑ |
| ๐ก ูู ุงูุฎูููุฉ | โ ูุธูุฑ | โ ูุธูุฑ |
| ๐ด ูุบูู | โ ูุธูุฑ | โ ูุธูุฑ |

---

## ๐งช ุงุฎุชุจุฑ ุงูุขู

```bash
# ุฃุฑุณู ุฅุดุนุงุฑ
npm run send:order

# ุฌุฑุจ ูู ุฌููุน ุงูุญุงูุงุช:
# 1. ุงูุชุทุจูู ููุชูุญ
# 2. ุงูุชุทุจูู ูู ุงูุฎูููุฉ (ุงุถุบุท Home)
# 3. ุงูุชุทุจูู ูุบูู ุชูุงูุงู
```

ูู **ูู** ุงูุญุงูุงุชุ ุณุชุธูุฑ ุฃููููุฉ ุงูุชุทุจูู ุงูููููุฉ ุงููุจูุฑุฉ! ๐

