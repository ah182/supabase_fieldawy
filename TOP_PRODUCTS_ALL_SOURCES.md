# ๐ ุชุญุฏูุซ Top Products - ุนุฑุถ ุฃุณูุงุก ูู ุฌููุน ุงููุตุงุฏุฑ

## โ ูุง ุชู ุชุญุฏูุซู:

### **ูุจู:**
ูุงู ูุนุฑุถ ููุท:
- โ ููุชุฌุงุช ุงููุชุงููุฌ (distributor_products)
- โ ููุชุฌุงุช OCR (distributor_ocr_products)
- โ ุงูุนุฑูุถ ุจุฏูู ุงุณู ูุงุถุญ
- โ ูุง ูุนุฑุถ ุงูููุฑุณุงุช
- โ ูุง ูุนุฑุถ ุงููุชุจ
- โ ูุง ูุนุฑุถ ุงูุฃุฏูุงุช ุงูุฌุฑุงุญูุฉ

### **ุจุนุฏ:**
ุงูุขู ูุนุฑุถ ูู **6 ูุตุงุฏุฑ:**
1. โ ููุชุฌุงุช ุงููุชุงููุฌ (distributor_products)
2. โ ููุชุฌุงุช OCR (distributor_ocr_products)
3. โ ุงูุนุฑูุถ (offers) - ูุน ุงูุงุณู ุงููุนูู
4. โ ุงูููุฑุณุงุช (courses) โญ ุฌุฏูุฏ
5. โ ุงููุชุจ (books) โญ ุฌุฏูุฏ
6. โ ุงูุฃุฏูุงุช ุงูุฌุฑุงุญูุฉ (distributor_surgical_tools) โญ ุฌุฏูุฏ

---

## ๐ ุงูุชูุงุตูู:

### **1. ููุชุฌุงุช ุงููุชุงููุฌ:**
```dart
final distributorProducts = await _supabase
    .from('distributor_products')
    .select('''
      id,
      views,
      price,
      added_at,
      products (name)
    ''')
    .eq('distributor_id', userId)
    .order('views', ascending: false)
    .limit(3);

// ุงูุงุณู ูู: products.name
```

### **2. ููุชุฌุงุช OCR:**
```dart
final ocrProducts = await _supabase
    .from('distributor_ocr_products')
    .select('''
      id,
      views,
      price,
      created_at,
      ocr_products (product_name)
    ''')
    .eq('distributor_id', userId)
    .order('views', ascending: false)
    .limit(3);

// ุงูุงุณู ูู: ocr_products.product_name
```

### **3. ุงูุนุฑูุถ:**
```dart
final offers = await _supabase
    .from('offers')
    .select('id, price, views, created_at, product_id, is_ocr, product_name')
    .eq('user_id', userId)
    .order('views', ascending: false)
    .limit(2);

// ุงูุงุณู ูู: product_name โญ ุฌุฏูุฏ
```

### **4. ุงูููุฑุณุงุช:** โญ ุฌุฏูุฏ
```dart
final courses = await _supabase
    .from('courses')
    .select('id, title, price, views, created_at')
    .eq('distributor_id', userId)
    .order('views', ascending: false)
    .limit(2);

// ุงูุงุณู ูู: title
```

### **5. ุงููุชุจ:** โญ ุฌุฏูุฏ
```dart
final books = await _supabase
    .from('books')
    .select('id, title, price, views, created_at')
    .eq('distributor_id', userId)
    .order('views', ascending: false)
    .limit(2);

// ุงูุงุณู ูู: title
```

### **6. ุงูุฃุฏูุงุช ุงูุฌุฑุงุญูุฉ:** โญ ุฌุฏูุฏ
```dart
final surgicalTools = await _supabase
    .from('distributor_surgical_tools')
    .select('id, name, price, views, created_at')
    .eq('distributor_id', userId)
    .order('views', ascending: false)
    .limit(2);

// ุงูุงุณู ูู: name
```

---

## ๐ฏ ุงููุชูุฌุฉ:

### **ูุจู:**
```
๐ ุฃูุถู ุงูููุชุฌุงุช ุฃุฏุงุกู

1. Amoxicillin 500mg        (45 ูุดุงูุฏุฉ)
2. ููุชุฌ OCR                 (32 ูุดุงูุฏุฉ)
3. ุนุฑุถ (ูุชุงููุฌ) - 123      (28 ูุดุงูุฏุฉ)
4. Paracetamol 500mg        (21 ูุดุงูุฏุฉ)
5. ููุชุฌ ูู ุงููุชุงููุฌ         (18 ูุดุงูุฏุฉ)
```

### **ุจุนุฏ:**
```
๐ ุฃูุถู ุงูููุชุฌุงุช ุฃุฏุงุกู

1. Amoxicillin 500mg                    (45 ูุดุงูุฏุฉ)
2. ููุฑุณ ุงูุชุดุฎูุต ุงูุจูุทุฑู ุงููุชูุฏู         (38 ูุดุงูุฏุฉ) โญ
3. ููุชุฌ OCR                             (32 ูุดุงูุฏุฉ)
4. ุนุฑุถ ุฎุงุต - Paracetamol 500mg         (28 ูุดุงูุฏุฉ) โญ
5. ูุชุงุจ ุงูุฃูุฑุงุถ ุงููุนุฏูุฉ                 (25 ูุดุงูุฏุฉ) โญ
6. Paracetamol 500mg                    (21 ูุดุงูุฏุฉ)
7. ุฃุฏุงุฉ ุฌุฑุงุญูุฉ - ููุต ุฌุฑุงุญู              (19 ูุดุงูุฏุฉ) โญ
8. Ibuprofen 400mg                      (18 ูุดุงูุฏุฉ)
9. ููุฑุณ ุงูุฌุฑุงุญุฉ ุงูุจูุทุฑูุฉ                (15 ูุดุงูุฏุฉ) โญ
10. ูุชุงุจ ุงูุชุดุฑูุญ ุงูุจูุทุฑู                (12 ูุดุงูุฏุฉ) โญ
```

---

## ๐ ุงูุชุฑุชูุจ:

### **ุงูุญุฏ ุงูุฃูุตู ูู ูู ูุตุฏุฑ:**
- ููุชุฌุงุช ุงููุชุงููุฌ: 3
- ููุชุฌุงุช OCR: 3
- ุงูุนุฑูุถ: 2
- ุงูููุฑุณุงุช: 2 โญ
- ุงููุชุจ: 2 โญ
- ุงูุฃุฏูุงุช ุงูุฌุฑุงุญูุฉ: 2 โญ

**ุงููุฌููุน:** ุญุชู 14 ููุชุฌ

**ุงูุนุฑุถ ุงูููุงุฆู:** ุฃูุถู 10 ููุชุฌุงุช (ูุฑุชุจุฉ ุญุณุจ ุงููุดุงูุฏุงุช)

---

## ๐จ ุงูุชุตููู:

ูู ููุชุฌ ูุญุชูู ุนูู `source`:
```dart
{
  'id': '...',
  'name': '...',
  'price': 0,
  'views': 0,
  'created_at': '...',
  'source': 'catalog' | 'ocr' | 'offer' | 'course' | 'book' | 'surgical'
}
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ:

```bash
flutter run
```

ุซู:
1. ุงูุชุญ Dashboard
2. scroll ููุณู "ุฃูุถู ุงูููุชุฌุงุช ุฃุฏุงุกู"
3. ูุฌุจ ุฃู ุชุฑู ุฃุณูุงุก ูุงุถุญุฉ ูู ุฌููุน ุงููุตุงุฏุฑ

---

## ๐ ูุซุงู ุนูู ุงูุจูุงูุงุช:

```dart
[
  {
    'id': '123',
    'name': 'Amoxicillin 500mg',
    'price': 50,
    'views': 45,
    'source': 'catalog'
  },
  {
    'id': '456',
    'name': 'ููุฑุณ ุงูุชุดุฎูุต ุงูุจูุทุฑู ุงููุชูุฏู',
    'price': 500,
    'views': 38,
    'source': 'course'  // โญ ุฌุฏูุฏ
  },
  {
    'id': '789',
    'name': 'ุนุฑุถ ุฎุงุต - Paracetamol 500mg',
    'price': 30,
    'views': 28,
    'source': 'offer'
  },
  {
    'id': '101',
    'name': 'ูุชุงุจ ุงูุฃูุฑุงุถ ุงููุนุฏูุฉ',
    'price': 200,
    'views': 25,
    'source': 'book'  // โญ ุฌุฏูุฏ
  },
  {
    'id': '102',
    'name': 'ููุต ุฌุฑุงุญู - 15 ุณู',
    'price': 150,
    'views': 19,
    'source': 'surgical'  // โญ ุฌุฏูุฏ
  }
]
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู:

- [x] ุชู ุฅุถุงูุฉ ุฌูุจ ุงูููุฑุณุงุช
- [x] ุชู ุฅุถุงูุฉ ุฌูุจ ุงููุชุจ
- [x] ุชู ุฅุถุงูุฉ ุฌูุจ ุงูุฃุฏูุงุช ุงูุฌุฑุงุญูุฉ
- [x] ุชู ุชุญุฏูุซ ุงูุนุฑูุถ ูุนุฑุถ ุงูุงุณู ุงููุนูู
- [x] ุชู ุฒูุงุฏุฉ ุงูุนุฏุฏ ูู 5 ุฅูู 10
- [ ] ุชู ุงุฎุชุจุงุฑ ุงูุชุทุจูู
- [ ] ุงูุฃุณูุงุก ุชุธูุฑ ุจุดูู ุตุญูุญ

---

## ๐ ุงููุชูุฌุฉ:

ุงูุขู ูุณู "ุฃูุถู ุงูููุชุฌุงุช ุฃุฏุงุกู":
- โ ูุนุฑุถ ุฃุณูุงุก ูู 6 ูุตุงุฏุฑ ูุฎุชููุฉ
- โ ุฃุณูุงุก ูุงุถุญุฉ ููููููุฉ
- โ ูุดูู ุงูููุฑุณุงุช ูุงููุชุจ ูุงูุฃุฏูุงุช ุงูุฌุฑุงุญูุฉ
- โ ูุนุฑุถ ุฃูุถู 10 ููุชุฌุงุช (ุจุฏูุงู ูู 5)
- โ ูุฑุชุจ ุญุณุจ ุงููุดุงูุฏุงุช

---

## ๐ก ููุงุญุธุงุช:

1. **ุฅุฐุง ูู ุชุธูุฑ ุงูููุฑุณุงุช/ุงููุชุจ:**
   - ุชุฃูุฏ ูู ูุฌูุฏ `views` column ูู ุฌุฏุงูู courses ู books
   - ุชุฃูุฏ ูู ุฃู `distributor_id` ุตุญูุญ

2. **ุฅุฐุง ุธูุฑุช ุฃุฎุทุงุก:**
   - ุชุญูู ูู Console logs
   - ุงูุฃุฎุทุงุก ูุชู ุงูุชุนุงูู ูุนูุง ุจู try-catch
   - ูู ูุชููู ุงูุชุทุจูู ุญุชู ูู ูุดู ุฌุฏูู ูุงุญุฏ

