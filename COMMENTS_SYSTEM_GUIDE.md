# ๐ ุฏููู ูุธุงู ุงูุชุนูููุงุช ูููุชุจ ูุงูููุฑุณุงุช

## ๐ฏ **ูุง ุชู ุฅูุฌุงุฒู:**

ุชู ุชุทููุฑ ูุธุงู ุชุนูููุงุช ูุงูู ูููุชุจ ูุงูููุฑุณุงุช ุจุชุตููู ุนุตุฑู ูุดุจู ุชุทุจููุงุช ุงูุณูุดูุงู ููุฏูุง ูุซู Instagram ู Facebook.

---

## ๐ **ุงููููุงุช ุงูููุดุฃุฉ:**

### **1. ูุงุนุฏุฉ ุงูุจูุงูุงุช** ๐พ
๐ `supabase/create_comments_tables.sql`

**ุงููุญุชููุงุช:**
- โ ุฌุฏูู `course_comments` - ูุชุนูููุงุช ุงูููุฑุณุงุช (ูุฑุชุจุท ุจู `vet_courses`)
- โ ุฌุฏูู `book_comments` - ูุชุนูููุงุช ุงููุชุจ (ูุฑุชุจุท ุจู `vet_books`)
- โ Indexes ูุชุญุณูู ุงูุฃุฏุงุก
- โ RLS Policies ููุฃูุงู
- โ Triggers ูุชุญุฏูุซ ุนุฏุงุฏ ุงูุชุนูููุงุช ุชููุงุฆูุงู
- โ Functions ูุญุณุงุจ ุนุฏุฏ ุงูุชุนูููุงุช

**ููุงุญุธุฉ ูููุฉ:**
- ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู: `vet_courses` ู `vet_books`
- ุชู ุชุญุฏูุซ SQL script ููุชูุงูู ูุน ูุฐู ุงูุฃุณูุงุก

**ููููุฉ ุงูุชุทุจูู:**
```sql
-- ุงูุชุญ Supabase Dashboard
-- ุงุฐูุจ ุฅูู SQL Editor
-- ุงูุตู ูุญุชููุงุช ุงูููู ูุดุบูู
```

---

### **2. Models** ๐
๐ `lib/features/comments/domain/comment_model.dart`

**ุงููููุฒุงุช:**
- โ ูููุฐุฌ ููุญุฏ ููุชุนูููุงุช
- โ ุฏุนู ุจูุงูุงุช ุงููุณุชุฎุฏู (ุงูุงุณูุ ุงูุตูุฑุฉุ ุงูุฏูุฑ)
- โ ุฏุงูุฉ `timeAgo` ูุนุฑุถ ุงูููุช ุจุดูู ุฌููู ("ููุฐ ุณุงุนุฉ", "ููุฐ ููููู")
- โ ุฏุนู ูู ูู ุงูููุฑุณุงุช ูุงููุชุจ

---

### **3. Repository** ๐
๐ `lib/features/comments/data/comments_repository.dart`

**ุงููุธุงุฆู ุงููุชุงุญุฉ:**
- โ `getComments()` - ุฌูุจ ุงูุชุนูููุงุช
- โ `addComment()` - ุฅุถุงูุฉ ุชุนููู ุฌุฏูุฏ
- โ `deleteComment()` - ุญุฐู ุชุนููู
- โ `updateComment()` - ุชุนุฏูู ุชุนููู
- โ `getCommentsCount()` - ุญุณุงุจ ุนุฏุฏ ุงูุชุนูููุงุช
- โ `watchComments()` - ุงูุงุณุชูุงุน ููุชุนูููุงุช ุงูุฌุฏูุฏุฉ (Realtime)

---

### **4. ุตูุญุงุช ุงูุชูุงุตูู** ๐จ

#### **ุฃ. ุตูุญุฉ ุชูุงุตูู ุงูููุฑุณ**
๐ `lib/features/courses/presentation/screens/course_details_screen.dart`

**ุงูุชุตููู:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ผ๏ธ  ุตูุฑุฉ ุงูููุฑุณ ูุน Gradient   โ
โ     (Header ุนุตุฑู)               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ฐ ุงูุณุนุฑ  ๐ ูุดุงูุฏุงุช  ๐ฌ ุชุนูููุงุชโ
โ     (ุจุทุงูุงุช ุฅุญุตุงุฆูุฉ)            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ ูุตู ุงูููุฑุณ                 โ
โ     (ุจุทุงูุฉ ุฌูููุฉ)               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ ุฒุฑ ุชูุงุตู ูุงุชุณุงุจ             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ฌ ูุณู ุงูุชุนูููุงุช               โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ     โ ๐ค Input ููุชุนููู      โ  โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ     โ ๐ค ุชุนููู 1            โ  โ
โ     โ    ุงุณู ุงููุณุชุฎุฏู       โ  โ
โ     โ    ููุฐ ุณุงุนุฉ      ๐๏ธ   โ  โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ     โ ๐ค ุชุนููู 2            โ  โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### **ุจ. ุตูุญุฉ ุชูุงุตูู ุงููุชุงุจ**
๐ `lib/features/books/presentation/screens/book_details_screen.dart`

**ููุณ ุงูุชุตููู** ูุน ุฅุถุงูุฉ:
- โ ุนุฑุถ ุงุณู ุงููุคูู ุจุดูู ุจุงุฑุฒ
- โ ุจุทุงูุฉ ูุนูููุงุช ูููุตูุฉ ูููุคูู ูุงููุตู

---

### **5. ุชุนุฏูู ุงูุฏูุงููุฌ** ๐
๐ `lib/features/home/presentation/widgets/home_tabs_content.dart`

**ุงูุชุบููุฑุงุช:**
```dart
// ูุจู ุงูุชุนุฏูู:
[ุฒุฑ ูุงุญุฏ: ุชูุงุตู ุนุจุฑ ูุงุชุณุงุจ]

// ุจุนุฏ ุงูุชุนุฏูู:
[ุฒุฑ 1: ุชูุงุตูู ุงูููุฑุณ/ุงููุชุงุจ] [ุฒุฑ 2: ุชูุงุตู]
```

---

## ๐จ **ุงููููุฒุงุช ุงูุชุตููููุฉ:**

### **1. Header ุนุตุฑู**
- ุตูุฑุฉ ูุงููุฉ ูุน Gradient Overlay
- ุงูุนููุงู ููู ุงูุตูุฑุฉ ูุจุงุดุฑุฉ
- ุชุฃุซูุฑุงุช Shadow ุฌูููุฉ

### **2. ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช**
```
โโโโโโโโโโโโโ โโโโโโโโโโโโโ โโโโโโโโโโโโโ
โ  ๐ฐ       โ โ  ๐       โ โ  ๐ฌ       โ
โ  ุงูุณุนุฑ    โ โ ูุดุงูุฏุงุช   โ โ ุชุนูููุงุช   โ
โ  100 ุฌ.ู  โ โ    25     โ โ    5      โ
โโโโโโโโโโโโโ โโโโโโโโโโโโโ โโโโโโโโโโโโโ
```

### **3. ูุณู ุงูุชุนูููุงุช (ูุดุจู Instagram)**
- Avatar ุงููุณุชุฎุฏู ุนูู ุงููุณุงุฑ
- ุงูุชุนููู ูู bubble ุฑูุงุฏู
- ุงุณู ุงููุณุชุฎุฏู ุจุฎุท ุนุฑูุถ
- ุงูููุช ุจุฎุท ุฑูุงุฏู ุตุบูุฑ
- ุฒุฑ ุญุฐู (๐๏ธ) ูููุณุชุฎุฏู ุตุงุญุจ ุงูุชุนููู ููุท

### **4. Input ุงูุชุนููู**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ค  [ุงูุชุจ ุชุนูููู...]      ๐ค  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```
- Avatar ุงููุณุชุฎุฏู
- Input ูุณุชุฏูุฑ
- ุฒุฑ ุฅุฑุณุงู ุฃุฒุฑู

---

## ๐ **ุงูุฃูุงู:**

### **RLS Policies:**
โ **ุงููุฑุงุกุฉ:** ุงูุฌููุน ูุณุชุทูุน ูุฑุงุกุฉ ุงูุชุนูููุงุช
โ **ุงูุฅุถุงูุฉ:** ุงููุณุชุฎุฏููู ุงููุณุฌููู ููุท
โ **ุงูุญุฐู:** ุงููุณุชุฎุฏู ูุญุฐู ุชุนูููุงุชู ููุท
โ **ุงูุชุนุฏูู:** ุงููุณุชุฎุฏู ูุนุฏู ุชุนูููุงุชู ููุท

---

## ๐ **ููููุฉ ุงูุงุณุชุฎุฏุงู:**

### **ูููุณุชุฎุฏู:**
1. ุงูุชุญ ุชุงุจ ุงูููุฑุณุงุช ุฃู ุงููุชุจ
2. ุงุถุบุท ุนูู ุฃู ููุฑุณ/ูุชุงุจ
3. ูู ุงูุฏูุงููุฌุ ุงุถุบุท "ุชูุงุตูู ุงูููุฑุณ/ุงููุชุงุจ"
4. ุดุงูุฏ ุงูุชูุงุตูู + ุงูุฑุฃ ุงูุชุนูููุงุช
5. ุงูุชุจ ุชุนูููู ูุงุถุบุท ๐ค

### **ูููุทูุฑ:**
```dart
// ุงุณุชุฎุฏุงู Repository
final repo = CommentsRepository();

// ุฅุถุงูุฉ ุชุนููู
await repo.addComment(
  itemId: courseId,
  commentText: 'ุชุนููู ุฑุงุฆุน!',
  type: CommentType.course,
);

// ุฌูุจ ุงูุชุนูููุงุช
final comments = await repo.getComments(
  itemId: courseId,
  type: CommentType.course,
);

// ุญุฐู ุชุนููู
await repo.deleteComment(
  commentId: commentId,
  type: CommentType.course,
);
```

---

## ๐ **ุฎุทูุงุช ุงูุชุดุบูู:**

### **ุงูุฎุทูุฉ 1: ุชุทุจูู SQL**
```bash
# ุงูุชุญ Supabase Dashboard
# SQL Editor โ New Query
# ุงูุตู ูุญุชูู create_comments_tables.sql
# Run
```

### **ุงูุฎุทูุฉ 2: ุชุดุบูู ุงูุชุทุจูู**
```bash
flutter pub get
flutter run
```

### **ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงููุธุงู**
1. ุณุฌู ุฏุฎูู ุจุญุณุงุจ
2. ุงุฐูุจ ูุชุงุจ ุงูููุฑุณุงุช
3. ุงูุชุญ ููุฑุณ โ ุชูุงุตูู ุงูููุฑุณ
4. ุงูุชุจ ุชุนููู
5. ุชุญูู ูู ุธููุฑู ููุฑุงู

---

## ๐ฏ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

โ ูุธุงู ุชุนูููุงุช ูุงูู ูุนุตุฑู
โ ุชุตููู ูุดุจู Instagram/Facebook
โ Realtime updates ููุชุนูููุงุช
โ ุฃูุงู ูุงูู ูุน RLS
โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ
โ ุณูู ุงูุตูุงูุฉ ูุงูุชุทููุฑ

---

## ๐ **ููุงุญุธุงุช:**

1. **Realtime:** ุงูุชุนูููุงุช ุชุธูุฑ ููุฑุงู ุจุฏูู refresh
2. **ุงูุฃุฏุงุก:** Indexes ูุญุณูุฉ ููุณุฑุนุฉ
3. **ุงูุฃูุงู:** RLS ูุญูู ุจูุงูุงุช ุงููุณุชุฎุฏููู
4. **ุงูุชูุณุน:** ุณูู ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ (ูุซู: ุงูุฅุนุฌุงุจุ ุงูุฑุฏ ุนูู ุงูุชุนูููุงุช)

---

## ๐ง **ุงูุชุฎุตูุต:**

### **ุชุบููุฑ ุงูุฃููุงู:**
```dart
// ูู course_details_screen.dart
Color(0xFF25D366)  // ููู ูุงุชุณุงุจ - ุบูุฑู ุญุณุจ ุฑุบุจุชู
Colors.green       // ููู ุงูุณุนุฑ
Colors.blue        // ููู ุงููุดุงูุฏุงุช
Colors.orange      // ููู ุงูุชุนูููุงุช
```

### **ุฅุถุงูุฉ ููุฒุฉ ุงูุฅุนุฌุงุจ:**
```dart
// ุฃุถู ูู comment_model.dart
final int likes;

// ุฃุถู ูู comments_repository.dart
Future<void> toggleLike(String commentId) async {
  // logic here
}
```

---

## ๐ **ุงูุฏุนู:**

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุชุฃูุฏ ูู ุชุทุจูู SQL Script
2. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู
3. ุชุญูู ูู Console ููุฃุฎุทุงุก
4. ุฑุงุฌุน RLS Policies ูู Supabase

---

**๐ ูุธุงู ุงูุชุนูููุงุช ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ุงุณุชูุชุน! ๐**
