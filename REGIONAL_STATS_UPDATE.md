# ๐ ุชุญุฏูุซ ุงูุชูุฒูุน ุงูุฌุบุฑุงูู ูููุดุงูุฏุงุช

## โ ุงูุชุบููุฑุงุช ุงููููุฐุฉ

ุชู ุชุญุฏูุซ ููุฏุฌุช **ุงูุชูุฒูุน ุงูุฌุบุฑุงูู** ูู ุฏุงุด ุจูุฑุฏ ุงูููุฒุนูู ููุนุฑุถ **ุจูุงูุงุช ูุนููุฉ** ุนู ูุดุงูุฏุงุช ุงูููุชุฌุงุช ุจุฏูุงู ูู ุงูุจูุงูุงุช ุงูููููุฉ.

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### 1. **dashboard_repository.dart**
๐ `lib/features/dashboard/data/dashboard_repository.dart`

#### ุงูุชุบููุฑุงุช:
- โ ุชู ุชุญุฏูุซ ุฏุงูุฉ `getRegionalStats()` ูุฌูุจ ุจูุงูุงุช ูุนููุฉ
- โ ุชุฌูุน ูุนุฑูุงุช ุงูููุชุฌุงุช ูู 3 ูุตุงุฏุฑ:
  - `distributor_products` (ุงูููุชุฌุงุช ุงูุนุงุฏูุฉ)
  - `distributor_ocr_products` (ููุชุฌุงุช OCR)
  - `distributor_surgical_tools` (ุงูุฃุฏูุงุช ุงูุฌุฑุงุญูุฉ)
- โ ุชุฑุจุท ูุน ุฌุฏูู `product_views` ููุญุตูู ุนูู ุงููุดุงูุฏุงุช
- โ ุชุฑุจุท ูุน ุฌุฏูู `users` ููุญุตูู ุนูู ุงููุญุงูุธุงุช
- โ ุชุญุณุจ ุนุฏุฏ ุงููุดุงูุฏุงุช ููู ูุญุงูุธุฉ
- โ ุชุญุณุจ ุงููุณุจุฉ ุงููุฆููุฉ ููู ูุญุงูุธุฉ
- โ ุชุฑุชูุจ ุงููุชุงุฆุฌ ุญุณุจ ุนุฏุฏ ุงููุดุงูุฏุงุช (ุชูุงุฒููุงู)
- โ ุฅุฑุฌุงุน ุฃุนูู 10 ูุญุงูุธุงุช

#### ุงูููุฏ ุงูุฌุฏูุฏ:
```dart
Future<List<Map<String, dynamic>>> getRegionalStats() async {
  // 1. ุฌูุจ ูุนุฑูุงุช ููุชุฌุงุช ุงูููุฒุน ูู ุฌููุน ุงููุตุงุฏุฑ
  // 2. ุฌูุจ ุงููุดุงูุฏุงุช ูู product_views
  // 3. ุฌูุจ ูุญุงูุธุงุช ุงููุณุชุฎุฏููู ุงูุฐูู ุดุงูุฏูุง ุงูููุชุฌุงุช
  // 4. ุญุณุงุจ ุนุฏุฏ ุงููุดุงูุฏุงุช ููู ูุญุงูุธุฉ
  // 5. ุฅุฑุฌุงุน ุงููุชุงุฆุฌ ูุฑุชุจุฉ
}
```

---

### 2. **regional_stats_widget.dart**
๐ `lib/features/dashboard/presentation/widgets/regional_stats_widget.dart`

#### ุงูุชุบููุฑุงุช:
- โ ุชุญุฏูุซ ุงูุนููุงู ุฅูู "ุงูุชูุฒูุน ุงูุฌุบุฑุงูู ูููุดุงูุฏุงุช"
- โ ุฅุถุงูุฉ ูุตู "ูุดุงูุฏุงุช ููุชุฌุงุชู ุญุณุจ ุงููุญุงูุธุฉ"
- โ ุชุบููุฑ ุนุฑุถ ุงูุจูุงูุงุช ูู (ุนููุงุก + ุทูุจุงุช) ุฅูู (ูุดุงูุฏุงุช + ูุณุจุฉ ูุฆููุฉ)
- โ ุชุญุฏูุซ ุงูุฃููููุงุช ูุงูุฃููุงู ูุชุนูุณ ุงููุดุงูุฏุงุช
- โ ุนุฑุถ ุนุฏุฏ ุงููุดุงูุฏุงุช ูุน ุฃููููุฉ ุงูุนูู ๐๏ธ
- โ ุนุฑุถ ุงููุณุจุฉ ุงููุฆููุฉ ุจุฏูุฉ ุนุดุฑูุฉ ูุงุญุฏุฉ

#### ุงูุชุตููู ุงูุฌุฏูุฏ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ุงูุชูุฒูุน ุงูุฌุบุฑุงูู ูููุดุงูุฏุงุช      โ
โ    ูุดุงูุฏุงุช ููุชุฌุงุชู ุญุณุจ ุงููุญุงูุธุฉ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงููุงูุฑุฉ              ๐๏ธ 125        โ
โ โโโโโโโโโโโโโโโโโโโโ                โ
โ ูุดุงูุฏุงุช ุงูููุชุฌุงุช         35.0%     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงูุฌูุฒุฉ               ๐๏ธ 89         โ
โ โโโโโโโโโโโโโโโโโโโโ                โ
โ ูุดุงูุฏุงุช ุงูููุชุฌุงุช         25.0%     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ููู ูุนูู ุงููุธุงู

### 1. **ุฌูุน ูุนุฑูุงุช ุงูููุชุฌุงุช**
```sql
-- ูู distributor_products
SELECT product_id FROM distributor_products WHERE distributor_id = 'USER_ID'

-- ูู distributor_ocr_products  
SELECT id FROM distributor_ocr_products WHERE distributor_id = 'USER_ID'

-- ูู distributor_surgical_tools
SELECT id FROM distributor_surgical_tools WHERE distributor_id = 'USER_ID'
```

### 2. **ุฌูุจ ุงููุดุงูุฏุงุช**
```sql
SELECT user_id, product_id 
FROM product_views 
WHERE product_id IN (...)
```

### 3. **ุฌูุจ ูุญุงูุธุงุช ุงููุดุงูุฏูู**
```sql
SELECT uid, governorates 
FROM users 
WHERE uid IN (...)
```

### 4. **ุญุณุงุจ ุงูุชูุฒูุน**
- ููู ูุณุชุฎุฏู ุดุงูุฏ ุงูููุชุฌุงุชุ ูุญุณุจ ุนุฏุฏ ูุดุงูุฏุงุชู
- ููุฒุน ุงููุดุงูุฏุงุช ุนูู ุฌููุน ูุญุงูุธุงุช ุงููุณุชุฎุฏู
- ูุฌูุน ุงููุดุงูุฏุงุช ููู ูุญุงูุธุฉ
- ูุญุณุจ ุงููุณุจุฉ ุงููุฆููุฉ

---

## ๐ ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ

| ุงูุญูู | ุงููุตู | ุงููุซุงู |
|------|-------|--------|
| `region` | ุงุณู ุงููุญุงูุธุฉ | "ุงููุงูุฑุฉ" |
| `views` | ุนุฏุฏ ุงููุดุงูุฏุงุช | 125 |
| `percentage` | ุงููุณุจุฉ ุงููุฆููุฉ | 0.35 (35%) |

---

## ๐ ุงูุชุญุฏูุซ ุงูุชููุงุฆู

ุงูููุฏุฌุช ูุชุญุฏุซ ุชููุงุฆูุงู ุนูุฏ:
- โ ูุชุญ ุตูุญุฉ ุงูุฏุงุด ุจูุฑุฏ
- โ ุงูุถุบุท ุนูู ุฒุฑ "ุชุญุฏูุซ"
- โ ุงูุณุญุจ ููุฃุณูู (Pull to Refresh)

---

## ๐จ ุงูุชุญุณููุงุช ุงูุจุตุฑูุฉ

1. **ุงูุนููุงู ุงููุญุฏุซ**: "ุงูุชูุฒูุน ุงูุฌุบุฑุงูู ูููุดุงูุฏุงุช"
2. **ุงููุตู ุงูุชูุถูุญู**: "ูุดุงูุฏุงุช ููุชุฌุงุชู ุญุณุจ ุงููุญุงูุธุฉ"
3. **ุฃููููุฉ ุงููุดุงูุฏุงุช**: ๐๏ธ ุจุฏูุงู ูู ๐
4. **ุดุงุฑุฉ ููููุฉ**: ุนุฑุถ ุนุฏุฏ ุงููุดุงูุฏุงุช ูู ุดุงุฑุฉ ุจููุณุฌูุฉ
5. **ุงููุณุจุฉ ุงููุฆููุฉ**: ุนุฑุถ ุจุฏูุฉ ุนุดุฑูุฉ ูุงุญุฏุฉ (35.0%)
6. **ุดุฑูุท ุงูุชูุฏู**: ูุนูุณ ุงููุณุจุฉ ุงููุฆููุฉ ุงููุนููุฉ

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงูุจูุงูุงุช ุงููุนููุฉ**: ุงููุธุงู ูุนุชูุฏ ุนูู ุฌุฏูู `product_views` ุงูุฐู ูุชู ุชุญุฏูุซู ุนูุฏ ูุดุงูุฏุฉ ุงูููุชุฌุงุช
2. **ุงููุญุงูุธุงุช ุงููุชุนุฏุฏุฉ**: ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุณุฌู ูู ุฃูุซุฑ ูู ูุญุงูุธุฉุ ุชูุญุณุจ ูุดุงูุฏุงุชู ูุฌููุน ูุญุงูุธุงุชู
3. **ุฃุนูู 10 ูุญุงูุธุงุช**: ูุชู ุนุฑุถ ุฃุนูู 10 ูุญุงูุธุงุช ููุท ุญุณุจ ุนุฏุฏ ุงููุดุงูุฏุงุช
4. **ูุง ุชูุฌุฏ ุจูุงูุงุช**: ุฅุฐุง ูู ุชูู ููุงู ูุดุงูุฏุงุชุ ูุธูุฑ ุฑุณุงูุฉ "ูุง ุชูุฌุฏ ุจูุงูุงุช ุฌุบุฑุงููุฉ"

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

ูููู ุชุญุณูู ุงููุธุงู ูุณุชูุจูุงู ุจู:
- [ ] ุฅุถุงูุฉ ููุชุฑ ุฒููู (ุขุฎุฑ ุฃุณุจูุนุ ุดูุฑุ ุฅูุฎ)
- [ ] ุนุฑุถ ุฎุฑูุทุฉ ุชูุงุนููุฉ
- [ ] ุชุตุฏูุฑ ุงูุจูุงูุงุช ุฅูู Excel/PDF
- [ ] ููุงุฑูุฉ ุจูู ูุชุฑุงุช ุฒูููุฉ ูุฎุชููุฉ

